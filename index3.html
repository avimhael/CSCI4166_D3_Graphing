<!-- Matt Ward B00671544
CSCI 4166.03 Visualization
Winter 2021 -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="description" content="Drawing Shapes"/>
    <meta charset="utf-8">
    <title>D3 Assignment</title>
    <script src="https://d3js.org/d3.v4.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="styles3.css">
</head>
<body>
    <div class="line">
    </div>
    <script>

        const margin = {top: 20, right: 30, bottom: 60, left: 250},
            width = 1000 - margin.left - margin.right,height = 300 - margin.top - margin.bottom
        
        const svg = d3.select(".line").append("svg").attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom).append("g").attr("transform","translate(" + margin.left + "," + margin.top + ")")
        
        d3.json("./data/linedata.json", function(data) {
        
          const x = d3.scaleLinear().domain([0, 100]).range([ 0, width])

          svg.append("g").attr("transform", "translate(0," + height + ")").call(d3.axisBottom(x).tickFormat(d => d + "%"))
            .selectAll("text").attr('class', 'xaxis').attr("transform", "translate(12,0 )").style("text-anchor", "end")
        
          const y = d3.scaleBand().range([ 0, height ]).domain(data.map(function(d) { return d.desc; })).padding(.2)

          svg.append("g").attr('class', 'xaxis').call(d3.axisLeft(y))
        
          svg.selectAll("myGraph").data(data).enter().append("rect").attr("x",x(0)).attr("y", function(d) { return y(d.desc)})
            .attr("width", function(d) { return x(d.total)}).attr("height", y.bandwidth()).attr("fill", "#008080")})
        
        </script>
</body>
</html> 